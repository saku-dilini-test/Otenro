<md-dialog aria-label="Google Play">

    <!--Google Analytics-->
    <script>
        ga('set', 'page', 'publish-to-google-play');
        ga('send', 'pageview');
    </script>

    <md-dialog-content>
        <md-tabs md-center-tabs="false" md-selected="activeTabIndex" md-no-ink="true" md-autoselect="false"
                 md-dynamic-height="true">
            <md-tab ng-disabled="publishToAppStore.general">
                <md-tab-label>general</md-tab-label>
                <md-tab-body>
                    <div class="md-dialog-header">
                        <h1>general</h1>
                    </div>
                    <form name="generalForm" novalidate>
                    <div class="md-dialog-main">
                        <fieldset>
                            <label>App Name</label>
                            <input class="input-shadow-border" type="text" name="title" ng-model="appData.appName"
                                   maxlength="{{maxTitle}}" required readonly/>
                            <br>
                            <span class="information">Characters left: {{maxTitle - playStoreData.title.length}}</span>
                        </fieldset>

                        <div class="clearfix">
                            <fieldset>
                                <label>Short description</label>
                                <textarea class="input-shadow-border" name="shortDescription" ng-model="playStoreData.shortDescription"
                                       maxlength="{{maxShortDescription}}" required></textarea>
                                <br>
                                <span class="information">Characters left: {{maxShortDescription - playStoreData.shortDescription.length}}</span>
                            </fieldset>

                        </div>
                        <div class="clearfix">
                            <fieldset>
                                <label>full description</label>
                                <textarea class="input-shadow-border" ng-model="playStoreData.fullDescription" rows="8" maxlength="{{maxFullDescription}}" required></textarea>
                                <br>
                                <span class="information">Characters left: {{maxFullDescription - playStoreData.fullDescription.length}}</span>
                            </fieldset>
                        </div>
                        <div class="row">
                            <fieldset class="col-md-3">
                                <label class="reset-inline">Hi-res icon<br>(512 x 512)</label>
                                <a class="feature01 logo-upload">
                                    <span class="overlay01">
                                        <span class="caption01">
                                           <input type="button" class="me-default-button" ngf-select name="splash1"
                                                 ng-model="splash[0]" ngf-accept="image/*" ngf-change="validateSize(splash[0],'512','512',0)"
                                                 value="Add Image" ngf-validate="{width: {min: 512, max:512}, height: {min: 512, max: 512}}"/>

                                        </span>
                                    </span>
                                    <img ng-if="splash[0] != null" ngf-src="splash[0]"  style="width:120px; height:120px;" />
                                    <img ng-show="splash[0] == null" ng-src="{{thumbPic}}" ng-model="thumbPic" width="120" height="120" />
                                </a>
                            </fieldset>

                            <fieldset class="col-md-4">
                                <label class="reset-inline">Feature Graphic<br>(1024 w x 500 h)</label>
                                <a class="feature01 logo-upload">
                                    <span class="overlay01">
                                        <span class="caption01">
                                           <input type="button" class="me-default-button" ngf-select
                                                  ng-model="splash[1]" ngf-accept="image/*" ngf-change="validateSize(splash[1],'1024','500',1)"
                                                  value="Add Image" ngf-validate="{width: {min: 1024, max:1024}, height: {min: 500, max: 500}}" />
                                        </span>
                                    </span>
                                    <img ng-if="splash[1] != null" ngf-src="splash[1]"  style="width:120px; height:120px;" id="FeatureGraphic"/>
                                    <!--                             <img ng-show="picFile != null" ngf-src="picFile" style="width:120px; height:120px;" />-->
                                    <img ng-show="splash[1] == null" ng-src="{{thumbPic}}" ng-model="thumbPic" width="307" height="150" />
                                </a>
                            </fieldset>

                            <fieldset class="col-md-4">
                                <label class="reset-inline">Splash Screen<br>(2732 w x 2732 h)</label>
                                <a class="feature01 logo-upload">
                                    <span class="overlay01">
                                        <span class="caption01">
                                           <input type="button" class="me-default-button" ngf-select
                                                  ng-model="splash[6]" ngf-accept="image/*" ngf-change="validateSize(splash[6],'2732','2732',6)"
                                                  value="Add Image" ngf-validate="{width: {min: 2732, max:2732}, height: {min: 2732, max: 2732}}" />
                                        </span>
                                    </span>
                                    <img ng-if="splash[6] != null" ngf-src="splash[6]"  style="width:120px; height:120px;" id="FeatureGraphic"/>
                                    <!--                             <img ng-show="picFile != null" ngf-src="picFile" style="width:120px; height:120px;" />-->
                                    <img ng-show="splash[6] == null" ng-src="{{thumbPic}}" ng-model="thumbPic" width="307" height="150" />
                                </a>
                            </fieldset>
                        </div>
                        <div class="clearfix">
                            <fieldset>
                                <label>Email</label>
                                <input class="input-shadow-border"
                                       type="email"
                                       ng-pattern="/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/"
                                       name="email" ng-model="playStoreData.email" required/>
                                <span class="error help-block" ng-show="generalForm.email.$dirty && generalForm.email.$invalid">
                                        Enter a proper email
                                </span>
                            </fieldset>
                        </div>
                        <div class="clearfix">
                            <fieldset>
                                <label>Keyword</label>
                                <input class="input-shadow-border"
                                       type="text"
                                       ng-pattern="/^[a-zA-Z]*$/"
                                       name="keyword" maxlength="{{keywordLength}}"  ng-model="playStoreData.keyword" required ng-disabled="playStoreData.isAppSubmitted"/>
                                    <br>
                                <span class="information">Characters left: {{keywordLength - playStoreData.keyword.length}} </span>
                                <span class="error help-block" ng-show="generalForm.keyword.$dirty && generalForm.keyword.$invalid">
                                        Only letters are allowed
                                </span>
                                </fieldset>
                        </div>
                        <div class="clearfix">
                            <fieldset class="col-3">
                                <label>Select Port</label>

                                <md-select class="" placeholder="Select Port" ng-model="playStoreData.port" required ng-disabled="playStoreData.isAppSubmitted">
                                    <md-option ng-value="port" ng-repeat="port in Ports ">{{port}}
                                    </md-option>
                                </md-select>

                            </fieldset>

                        </div>
                        <div class="md-dialog-buttons">
                            <div class="inner-section">
                                <md-button class="me-default-button" ng-click="hide()">cancel</md-button>
                                <md-button class="me-default-button" ng-disabled="allowPlayStore == true && generalForm.$invalid || (generalForm.keyword.$invalid)"
                                           ng-click="addGooglePlayInfo(picFile,playStoreData,splash,allowPlayStore)">next</md-button>
                            </div>
                        </div>
                    </div>
                    </form>
                </md-tab-body>
            </md-tab>
            <md-tab>
                <md-tab-label ng-disabled = "!successPublish">operator configuration</md-tab-label>
                <md-tab-body>
                    <div class="md-dialog-header">
                        <div class="md-dialog-header-nav clearfix">
                            <h1 class="pull-left">Operator configuration</h1>
                        </div>
                    </div>

                    <div class="md-dialog-main clearfix">
                        <form class="allItems" novalidate>
                            <table class="table" name="form">
                                <thead style="background-color:rgba(241, 241, 241, 0.925)">
                                <th style="text-align:center;" width="15%">Operator</th>
                                <th style="text-align:center;" width="24%">Amount Rs.</th>
                                <th style="text-align:center;" width="25%">Renewal Interval</th>
                                <th style="text-align:center;" width="6%">Enabled</th>
                                <th style="text-align:center;" width="35%">Status</th>

                                </thead>
                                <tbody>
                                <tr ng-repeat="operator in playStoreData.operators">
                                    <td align="center" ng-disabled = "!operator.isEnabled"  ng-class="{'disabled-class': !operator.isEnabled}">{{operatorDes(operator.operator)}}</td>
                                    <td align="center">
                                        <md-input-container style="margin-bottom:0px;margin-top:0px;">
                                            <input type="text" maxlength="8" style="width:100%;text-align: center;" name="txtAccountNumber" numbers-only ng-model="operator.amount" value="{{amount}}" ng-disabled = "!operator.isEnabled || operator.status == 'SUBMITTED_FOR_CONFIG' || operator.status == 'SUBMITTED_FOR_APPROVAL' || operator.status == 'APPROVED' || operator.status == 'SUSPENDED' || operator.status == 'TERMINATED'" required/>
                                        </md-input-container>
                                    </td>
                                    <td align="center">
                                        <div class="select-container">
                                            <select class="op-config-select" ng-model= "operator.interval" ng-model-options="{trackBy: '$value.code' }" ng-disabled = "!operator.isEnabled || operator.status == 'SUBMITTED_FOR_CONFIG' || operator.status == 'SUBMITTED_FOR_APPROVAL' || operator.status == 'APPROVED' || operator.status == 'SUSPENDED' || operator.status == 'TERMINATED'">
                                                <option ng-repeat="sts in Renewals" ng-value = "sts.code">{{sts.description}}</option>
                                            </select>
                                        </div>
                                    </td>
                                    <td align="center">
                                        <md-checkbox ng-click="toggle(operator,operator.isEnabled, $index)" ng-model = "operator.isEnabled" ng-disabled = "operator.status == 'APPROVED' || operator.status == 'SUBMITTED_FOR_CONFIG' || operator.status == 'SUBMITTED_FOR_APPROVAL' || operator.status == 'SUSPENDED' || operator.status == 'TERMINATED'">

                                        </md-checkbox>
                                    </td>
                                    <td align="center" ng-class="{'disabled-class': !operator.isEnabled}" ng-model="operator.status">{{getDescription(operator.status)}}</td>
                                </tr>
                                </tbody>
                            </table>
                            <div class="row md-dialog-main clearfix">
                                <div class="col-sm-3 md-dialog-buttons">
                                    <div class="inner-section">
                                        <md-button class="me-default-button" ng-click="close('cancel')">Close</md-button>
                                        <md-button class="me-default-button" ng-click="save(playStoreData.operators)">save</md-button>
                                    </div>
                                </div>
                            </div>
                        </form>

                    </div>
                </md-tab-body>
            </md-tab>
        </md-tabs>
    </md-dialog-content>
</md-dialog>
