<!-- Main container -->
<div class="page-container bloc-md">

  <!-- bloc-10 -->
  <div class="bloc bgc-white l-bloc hidden-xs hidden-sm" id="bloc-10">
    <div class="container">
      <div class="row content-row">
        <div class="col-sm-12">
          <h2 class="header text-center main-header-font">
            SHOPPING CART
          </h2>
        </div>
      </div>
    </div>
  </div>
  <!-- bloc-10 END -->

  <!-- bloc-11 -->
  <div class="bloc bgc-white l-bloc" id="bloc-11">
    <div class="container">
      <div class="row">
        <div class= "col-sm-12 main-content-font">
          <div>

            <h1 class="main-header-font text-center bloc-md" *ngIf="cartItems.length == 0">There are no products added to the cart</h1>
            <div class="row content-cards" *ngFor="let item of cartItems ; let i = index">
              <div class="col-sm-3">
                  <img *ngIf="item.imgURL" src="{{imageUrl}}/{{item.imgURL}}" class="center-block img-responsive lazyload" >
                  <img *ngIf="!item.imgURL" src="{{imageUrl}}/{{item.imgDefault}}" class="center-block img-responsive lazyload" >
              </div>
              <div class="col-sm-6 spacing-4 ">
                <p class="product-name main-header-font">
                   {{item.name}}
                </p>
                <p class="spacing-2">
                  <span class="main-content-font" *ngFor="let v of item.variant"><strong>{{v.name}} </strong> - {{v.vType}}<br><br></span>
                </p>
                <div *ngIf="cartItems[0].totalQty == 0">
                    <span>
                      Product not available
                    </span>
                  </div>
                <div class="row">
                  <div class="col-sm-2">
                    <div class="form-group">
                      <label>
                        QTY
                      </label>
                    </div>
                  </div>
                  <div class="col-sm-6">

                      <input class="form-control" name="qty" id="qty" type="number" min="1" oninput="validity.valid||(value='');" [(ngModel)]="item.qty" value="{{item.qty}}" (change)="buttonDisable(item.qty,item.totalQty ,cartItems.indexOf(item))"
                    ngDefaultControl>

                     <!-- If Buy-Qty greater than Selected-Variant-Available Qty -->
                      <div class="col" *ngIf="item.qty > cartItems[i].totalQty && cartItems[i].totalQty > 1">
                        <span style="color:rgb(180, 30, 30)">
                          Enter a quantity of {{cartItems[i].totalQty}} or less.
                        </span>
                      </div>
                      <div class="col" *ngIf="item.qty > cartItems[i].totalQty && cartItems[i].totalQty == 1">
                        <span style="color:rgb(180, 30, 30)">
                          Enter a quantity of {{cartItems[i].totalQty}}.
                        </span>
                      </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-3 spacing-4 ">
                <p class="product-name text-right text-left-xs main-header-font">
                  PRICE
                </p>
                <p class="spacing-2 text-right text-left-xs">
                  <strong>{{currency}} {{itemPriceCal(item.total,item.qty)| number: '.2'}}</strong>
                </p>
                <div class="row">
                  <div class="col-sm-12">
                    <div class="text-center">
                      <a  (click)="removeItem(i)"  class="btn btn-d btn-lg main-button btn-block spacing-3"><span class="feather-icon icon-trash icon-spacer"></span>Remove</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  <!-- bloc-11 END -->

  <!-- bloc-12 -->
  <div class="bloc hidden-sm hidden-xs bgc-white l-bloc main-content-font" id="bloc-12" *ngIf="cartItems.length != 0">
    <div class="container bloc-sm">
      <div class="row form-names-row-">
        <div class="col-sm-8">
          <p>
            <strong>ITEM</strong>
          </p>
        </div>
        <div class="col-sm-2">
          <p class="text-right">
            <strong>QTY</strong>
          </p>
        </div>
        <div class="col-sm-2">
          <p class="text-right">
            <strong>PRICE</strong>
          </p>
        </div>
      </div>
      <div class="row voffset" *ngFor="let item of cartItems ; let i = index">
        <div class="col-sm-8">
          <p>
            {{item.name}}
          </p>
        </div>
        <div class="col-sm-2">
          <p class="text-right">
            {{item.qty}}
          </p>
        </div>
        <div class="col-sm-2">
          <p class="text-right">
            {{currency}} {{itemPriceCal(item.total,item.qty)| number: '.2'}}
          </p>
        </div>
      </div>
      <div class="row voffset row-top-border-">
        <div class="col-sm-8">
          <p>
            <strong>TOTAL</strong>
          </p>
        </div>
        <div class="col-sm-2">
          <p class="text-right">
            <br>
          </p>
        </div>
        <div class="col-sm-2">
          <p class="text-right">
            <strong>{{currency}} {{getTotal()| number: '.2'}}</strong>
          </p>
        </div>
      </div>

      <div class="row voffset" >
          <div class="col-sm-9">
          </div>
          <div class="col-sm-3">
            <a *ngIf="cartItems.length > 0" (click)="delivery(cartItems)" class="btn btn-d btn-lg main-button btn-block">Proceed</a>
          </div>
        </div>
    </div>
  </div>
  <!-- bloc-12 END -->

    <!-- bloc-13 -->
    <div class="bloc bgc-white l-bloc hidden-lg hidden-md" id="bloc-13">
      <div class="container bloc-lg">
        <div class="row form-names-row-">
          <div class="col-xs-4">
            <p>
              <strong>ITEM</strong>
            </p>
          </div>
          <div class="col-xs-4">
            <p class="text-right">
              <strong>QTY</strong>
            </p>
          </div>
          <div class="col-xs-4">
            <p class="text-right">
              <strong>PRICE</strong>
            </p>
          </div>
        </div>
        <div class="row voffset" *ngFor="let item of cartItems">
          <div class="col-xs-5">
            <p >
              {{item.name}}
            </p>
          </div>
          <div class="col-xs-2">
            <p class="text-right">
              {{item.qty}}
            </p>
          </div>
          <div class="col-xs-5">
            <p class="text-right text-right-xs">
              {{currency}} {{itemPriceCal(item.total,item.qty)| number: '.2'}}
            </p>
          </div>
        </div>
        <div class="row voffset row-top-border-">
          <div class="col-xs-4">
            <p>
              <strong>TOTAL</strong>
            </p>
          </div>
          <div class="col-xs-2">
            <p class="text-right">
              <br>
            </p>
          </div>
          <div class="col-xs-6">
            <p class="text-right">
              <strong>{{currency}} {{getTotal()| number: '.2'}}</strong>
            </p>
          </div>
        </div>
        </div>
      </div>
    </div>

    <div class="row hidden-lg hidden-md">
        <div class="col-sm-12">
          <div class="col-xs-6">
              <a *ngIf="cartItems.length > 0" (click)="delivery(cartItems)" class="btn btn-d btn-lg main-button btn-block">Proceed</a>
          </div>
        </div>
      </div>

  <!-- bloc-13 END -->


    <div class="col-sm-12" style="margin: 10px 0">
    <ngb-alert *ngIf="successMessage" type="warning" (close)="successMessage = null">{{ successMessage }}</ngb-alert>
  </div>

</div>


